{"ast":null,"code":"var _jsxFileName = \"/Users/borjamartirubio/Desktop/dashboard-app/src/Dashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceLine } from 'recharts';\nimport Papa from 'papaparse';\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#ff0000', '#00ff00'];\nconst PASSWORD = \"TCI2025dash\";\nconst LoginScreen = ({\n  onLogin\n}) => {\n  _s();\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (password === PASSWORD) {\n      onLogin();\n    } else {\n      setError('Incorrect password');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-center\",\n        children: \"TCI Dashboard Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            placeholder: \"Enter password\",\n            className: \"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n\n// ... [Previous formatDate and convertGradDate functions remain the same]\n_s(LoginScreen, \"ve6Ue/r3UKCVjvGquX7y649dphA=\");\n_c = LoginScreen;\nconst CityChart = ({\n  data,\n  city,\n  selectedVars\n}) => {\n  // ... [CityChart component remains the same]\n};\n_c2 = CityChart;\nconst Dashboard = () => {\n  _s2();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [data, setData] = useState([]);\n  const [countries, setCountries] = useState([]);\n  const [cities, setCities] = useState([]);\n  const [selectedCountry, setSelectedCountry] = useState('');\n  const [selectedCities, setSelectedCities] = useState([]);\n  const [selectedVars, setSelectedVars] = useState({\n    nac_wraadj_total_imp: true,\n    totalreportingsdp_imp: true,\n    totalreportingsdp: true,\n    nac_wraadj_total: true,\n    nac_alladj_total_imp: true,\n    nac_alladj_total: true\n  });\n  useEffect(() => {\n    if (isLoggedIn) {\n      const loadData = async () => {\n        try {\n          const SHEET_ID = '1lcU9KEq9jpON6d1-5ojDgDMcdLmcKrUVPG1GQENb2bk';\n          const SHEET_GID = '795805122';\n          const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/export?format=csv&gid=${SHEET_GID}`;\n          const response = await fetch(url);\n          if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n          }\n          const text = await response.text();\n          const result = Papa.parse(text, {\n            header: true,\n            dynamicTyping: true,\n            skipEmptyLines: true\n          });\n          setData(result.data);\n          const uniqueCountries = _.uniq(result.data.map(row => row.country)).sort();\n          setCountries(uniqueCountries);\n        } catch (error) {\n          console.error('Error loading data:', error);\n        }\n      };\n      loadData();\n    }\n  }, [isLoggedIn]);\n\n  // ... [Rest of the useEffect hooks and handler functions remain the same]\n\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(LoginScreen, {\n      onLogin: () => setIsLoggedIn(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 max-w-6xl mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"Dashboard - TCI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsLoggedIn(false),\n        className: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s2(Dashboard, \"d5NOYLaexoyff/IwgTzjdiNw8jI=\");\n_c3 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"LoginScreen\");\n$RefreshReg$(_c2, \"CityChart\");\n$RefreshReg$(_c3, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceLine","Papa","_","jsxDEV","_jsxDEV","COLORS","PASSWORD","LoginScreen","onLogin","_s","password","setPassword","error","setError","handleSubmit","e","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","_c","CityChart","data","city","selectedVars","_c2","Dashboard","_s2","isLoggedIn","setIsLoggedIn","setData","countries","setCountries","cities","setCities","selectedCountry","setSelectedCountry","selectedCities","setSelectedCities","setSelectedVars","nac_wraadj_total_imp","totalreportingsdp_imp","totalreportingsdp","nac_wraadj_total","nac_alladj_total_imp","nac_alladj_total","loadData","SHEET_ID","SHEET_GID","url","response","fetch","ok","Error","status","text","result","parse","header","dynamicTyping","skipEmptyLines","uniqueCountries","uniq","map","row","country","sort","console","onClick","_c3","$RefreshReg$"],"sources":["/Users/borjamartirubio/Desktop/dashboard-app/src/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceLine } from 'recharts';\nimport Papa from 'papaparse';\nimport _ from 'lodash';\n\nconst COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#ff0000', '#00ff00'];\nconst PASSWORD = \"TCI2025dash\";\n\nconst LoginScreen = ({ onLogin }) => {\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (password === PASSWORD) {\n      onLogin();\n    } else {\n      setError('Incorrect password');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow\">\n        <h2 className=\"text-2xl font-bold text-center\">TCI Dashboard Login</h2>\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Enter password\"\n              className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          {error && <p className=\"text-red-500 text-sm\">{error}</p>}\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\"\n          >\n            Login\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// ... [Previous formatDate and convertGradDate functions remain the same]\n\nconst CityChart = ({ data, city, selectedVars }) => {\n  // ... [CityChart component remains the same]\n};\n\nconst Dashboard = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [data, setData] = useState([]);\n  const [countries, setCountries] = useState([]);\n  const [cities, setCities] = useState([]);\n  const [selectedCountry, setSelectedCountry] = useState('');\n  const [selectedCities, setSelectedCities] = useState([]);\n  const [selectedVars, setSelectedVars] = useState({\n    nac_wraadj_total_imp: true,\n    totalreportingsdp_imp: true,\n    totalreportingsdp: true,\n    nac_wraadj_total: true,\n    nac_alladj_total_imp: true,\n    nac_alladj_total: true\n  });\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      const loadData = async () => {\n        try {\n          const SHEET_ID = '1lcU9KEq9jpON6d1-5ojDgDMcdLmcKrUVPG1GQENb2bk';\n          const SHEET_GID = '795805122';\n          const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/export?format=csv&gid=${SHEET_GID}`;\n          \n          const response = await fetch(url);\n          \n          if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n          }\n          \n          const text = await response.text();\n          const result = Papa.parse(text, {\n            header: true,\n            dynamicTyping: true,\n            skipEmptyLines: true\n          });\n          \n          setData(result.data);\n          \n          const uniqueCountries = _.uniq(result.data.map(row => row.country)).sort();\n          setCountries(uniqueCountries);\n          \n        } catch (error) {\n          console.error('Error loading data:', error);\n        }\n      };\n\n      loadData();\n    }\n  }, [isLoggedIn]);\n\n  // ... [Rest of the useEffect hooks and handler functions remain the same]\n\n  if (!isLoggedIn) {\n    return <LoginScreen onLogin={() => setIsLoggedIn(true)} />;\n  }\n\n  return (\n    <div className=\"p-4 max-w-6xl mx-auto\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h1 className=\"text-2xl font-bold\">Dashboard - TCI</h1>\n        <button \n          onClick={() => setIsLoggedIn(false)}\n          className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n        >\n          Logout\n        </button>\n      </div>\n      \n      {/* ... [Rest of the dashboard JSX remains the same] */}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}